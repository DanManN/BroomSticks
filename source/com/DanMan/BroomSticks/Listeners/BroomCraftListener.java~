/*    */ package com.DanMan.BroomSticks.Listeners;
/*    */ 
/*    */ import com.DanMan.BroomSticks.main.Broom;
/*    */ import com.DanMan.BroomSticks.main.BroomSticks;
/*    */ import com.DanMan.BroomSticks.main.ConfigLoader;
/*    */ import java.util.ArrayList;
/*    */ import org.bukkit.Material;
/*    */ import org.bukkit.enchantments.Enchantment;
/*    */ import org.bukkit.event.EventHandler;
/*    */ import org.bukkit.event.Listener;
/*    */ import org.bukkit.event.inventory.InventoryClickEvent;
/*    */ import org.bukkit.inventory.AnvilInventory;
/*    */ import org.bukkit.inventory.ItemStack;
/*    */ import org.bukkit.inventory.meta.ItemMeta;
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ public class BroomCraftListener
/*    */   implements Listener
/*    */ {
/*    */   private ConfigLoader info;
/*    */   private ArrayList<Broom> broomStick;
/*    */   
/*    */   public BroomCraftListener(BroomSticks plugin)
/*    */   {
/* 33 */     this.info = plugin.getConfigLoader();
/* 34 */     this.broomStick = this.info.getBrooms();
/*    */   }
/*    */   
/*    */   @EventHandler
/*    */   public void onBroomEnchant(InventoryClickEvent evt)
/*    */   {
/* 40 */     if ((evt.getInventory() instanceof AnvilInventory)) {
/* 41 */       ItemStack item = evt.getCurrentItem();
/* 42 */       if (item != null) {
/* 43 */         Material broom = item.getType();
/* 44 */         if (item.containsEnchantment(Enchantment.ARROW_INFINITE)) {
/* 45 */           for (Broom bs : this.broomStick) {
/* 46 */             if (bs.getItem().getType() == broom) {
/* 47 */               ItemMeta meta = item.getItemMeta();
/* 48 */               if (meta.hasDisplayName()) break;
/* 49 */               meta.setDisplayName(bs.getName().replace("_", " "));
/* 50 */               item.setItemMeta(meta);
/*    */               
/* 52 */               break;
/*    */             }
/*    */           }
/*    */         }
/*    */       }
/*    */     }
/*    */   }
/*    */ }


/* Location:              /home/danman/sauce/java/Minecraft/source-plugins/BroomSticks.jar!/com/DanMan/BroomSticks/Listeners/BroomCraftListener.class
 * Java compiler version: 8 (52.0)
 * JD-Core Version:       0.7.1
 */